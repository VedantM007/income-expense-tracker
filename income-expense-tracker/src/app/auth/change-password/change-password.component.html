<div class="bg-white border p-4 flex justify-center h-full">
<div class="p-4 mt-14">
<div class="text-gray-500 py-2">Enter a new password that satisfies the following criteria</div>
<div class="py-2">
    1. Must be at least 6 characters long.
</div>
<div>
    2. Password must contain at least one uppercase letter, one number and <br> one of these special characters '!&#64;#$%^&*(),.?":&#123;&#125;|&lt;>'
</div>
<form [formGroup]="myForm" (ngSubmit)="onSave()">

    <div class="my-4 relative">
        <input
          id="oldPassword"
          [type]="showOldPassword ? 'text' : 'password'"
          formControlName="oldPassword"
          placeholder="Enter Old Password"
          [ngClass]="{
            'border-red-500': myForm.get('oldPassword')?.invalid && myForm.get('oldPassword')?.touched
          }"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent xs:text-sm"
        />
        <button
          type="button"
          (click)="toggleOldPasswordVisibility()"
          class="absolute text-sm right-3 top-2.5 text-blue-500 hover:text-blue-900 focus:outline-none xs:text-sm"
        >
          {{ showOldPassword ? 'Hide' : 'Show' }}
        </button>
        <div *ngIf="myForm.get('oldPassword')?.invalid && myForm.get('oldPassword')?.touched">
          <small *ngIf="myForm.get('oldPassword')?.hasError('required')" class="text-red-500 xs:text-sm">
            Old Password is required.
          </small>
          <small *ngIf="myForm.get('oldPassword')?.hasError('minlength')" class="text-red-500 xs:text-sm">
            Old Password must be at least 6 characters long.
          </small>
        </div>
      </div>

      <div class="my-4 relative">
        <input
          id="newPassword"
          [type]="showNewPassword ? 'text' : 'password'"
          formControlName="newPassword"
          placeholder="Enter New Password"
          [ngClass]="{
            'border-red-500': myForm.get('newPassword')?.invalid && myForm.get('newPassword')?.touched
          }"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent xs:text-sm"
        />
        <button
          type="button"
          (click)="toggleNewPasswordVisibility()"
          class="absolute text-sm right-3 top-2.5 text-blue-500 hover:text-blue-900 focus:outline-none xs:text-sm"
        >
          {{ showNewPassword ? 'Hide' : 'Show' }}
        </button>
        <div *ngIf="myForm.get('newPassword')?.invalid && myForm.get('newPassword')?.touched">
          <small *ngIf="myForm.get('newPassword')?.hasError('required')" class="text-red-500 xs:text-sm">
            New Password is required.
          </small>
          <small *ngIf="myForm.get('newPassword')?.hasError('minlength')" class="text-red-500 xs:text-sm">
            Password must be at least 6 characters long.
          </small>
          <div>
            <small
              *ngIf="myForm.get('newPassword')?.hasError('passwordWeak') && myForm.get('newPassword')?.touched"
              class="text-red-500 xs:text-sm"
            >
              Password must contain at least one uppercase letter, one special character, and one number.
            </small>
          </div>
        </div>
      </div>
      <div class="my-4 relative">
        <input
          id="confirmPassword"
          [type]="showConfirmPassword ? 'text' : 'password'"
          formControlName="confirmPassword"
          placeholder="Enter Confirm Password"
          [ngClass]="{
            'border-red-500': myForm.get('confirmPassword')?.invalid && myForm.get('confirmPassword')?.touched
          }"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent xs:text-sm"
        />
        <button
          type="button"
          (click)="toggleConfirmPasswordVisibility()"
          class="absolute text-sm right-3 top-2.5 text-blue-500 hover:text-blue-900 focus:outline-none xs:text-sm"
        >
          {{ showConfirmPassword ? 'Hide' : 'Show' }}
        </button>
        <div *ngIf="myForm.get('confirmPassword')?.invalid && myForm.get('confirmPassword')?.touched">
          <small class="text-red-500 xs:text-sm" *ngIf="myForm.get('confirmPassword')?.hasError('required')">
            Confirm Password is required.
          </small>
        </div>
        <div *ngIf="myForm.hasError('passwordMismatch') && myForm.get('confirmPassword')?.touched">
          <small class="text-red-500 xs:text-sm">Passwords do not match.</small>
        </div>
      </div>
              <!-- Actions -->
              <button
              type="submit"
              [disabled]="myForm.invalid || isLoading"
              class="w-full px-14 py-2 mt-5 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none disabled:bg-[#639cff] disabled:text-gray-700 disabled:cursor-not-allowed disabled:opacity-50 flex items-center justify-center gap-2 uppercase xs:px-10 xs:py-1 xs:text-sm xs:mt-10"
            >
              <span
                *ngIf="isLoading"
                class="w-4 h-4 border-2 border-transparent border-t-black rounded-full animate-spin"
              ></span>
              submit
            </button>
    </form>
</div>
</div>